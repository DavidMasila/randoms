{% extends 'base.html' %}

{% block content %}

<div class="container">
    <div class="row">
        <div class="col">
            {% with messages = get_flashed_messages() %}
            {% if messages %}
            <ul class="flashes">
                {% for message in messages %}
                <li>{{ message }}</li>
                <script>
                    setTimeout(() => {
                        document.querySelector('.flashes').style.display = 'none';
                    }, 3000);
                </script>
                {% endfor %}
            </ul>
            {% endif %}
            {% endwith %}
        </div>
    </div>
</div>


<div class="container">
    <div class="row">
        <div class="col">
            <h1 class="title">{% block title %} Edit {{ student.firstname}}'s profile {% endblock %}</h1>
            <form action="{{ url_for('edit', student_id = student.id)}}" method="POST">
                {{ form.csrf_token }}

                <div class="form-group mb-2">
                    {{ form.firstname.label(class_='mb-1')}}
                    {{ form.firstname(class_='form-control', placeholder= student.firstname ) }}
                </div>
                {% if form.firstname.errors %}
                <ul class="errors">
                    {% for error in form.firstname.errors%}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}

                <div class="form-goup mb-2">
                    {{ form.lastname.label(class_='mb-1')}}
                    {{ form.lastname(class_='form-control', placeholder=student.lastname)}}
                </div>

                {% if form.lastname.errors%}
                <ul class="errors">
                    {% for error in form.lastname.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}

                <div class="form-group mb-2">
                    {{ form.email.label(class_='mb-1')}}
                    {{ form.email(class_='form-control', placeholder=student.email)}}
                </div>

                {% if form.email.errors%}
                <ul class="errors">
                    {% for error in form.email.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}

                <div class="form-group mb-2">
                    {{ form.age.label(class_='mb-1')}}
                    {{ form.age(class_='form-control', placeholder=student.age)}}
                </div>

                {% if form.age.errors%}
                <ul class="errors">
                    {% for error in form.age.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}

                <div class="form-group mb-2">
                    {{ form.bio.label(class_='mb-1')}}
                    {{ form.bio(rows=5,class_='form-control', placeholder=student.bio)}}
                </div>

                {% if form.bio.errors%}
                <ul class="errors">
                    {% for error in form.bio.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}

                {{ form.add }}
            </form>


        </div>
    </div>
</div>
{% endblock %}