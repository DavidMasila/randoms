{% extends 'base.html' %}

{% block content %}
<span class="title">
    <h1>{% block title %} {{ post.title }} {% endblock %}</h1>
</span>
<div class="content">
    <div class="post">
        <p><b>{{ post.id }}</b></p>
        <b>
            <p class="title">{{ post.title }}</p>
        </b>
        <div class="content">
            <p>{{ post.content }}</p>
        </div>
        <hr>
        <h3>Comments</h3>
        <form method="post" action="{{url_for('post', post_id=post.id)}}">
            <p>
                <textarea name="content" placeholder="Add Comment" cols="60" rows="5" required></textarea>
            </p>

            <p>
                <button type="submit">Add comment</button>
            </p>
        </form>
        {% for comment in post.comments %}
        <div class="comment">
            <p>{{ comment.id }}</p>
            <p>{{ comment.comment }}</p>
            <form method="POST" action="{{url_for('delete_comment', comment_id=comment.id)}}">
                <button type="submit" class="btn btn-secondary btn-sm"
                    onclick="return confirm('Are you sure you want to delete this comment!')">Delete
                    Comment</button>
            </form>
        </div>
        {% endfor %}
    </div>

</div>
{% endblock %}